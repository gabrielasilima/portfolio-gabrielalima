<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Portfólio | Gabriela</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link rel="icon" type="image/png" href="img/logo-gabriela.png">

</head>

<body>

    <div class="particulas"></div>
    <nav class="nav-bar">
        <ul class="menu">
            <li>
                <a href="#inicio" class="menu-link">Início</a>
            </li>
            <li>
                <a href="#sobre" class="menu-link">Sobre</a>
            </li>
            <li>
                <a href="#projetos" class="menu-link">Projetos</a>
            </li>
            <li>
                <a href="#contato" class="menu-link">Contato</a>
            </li>
        </ul>
    </nav>

    <main id="inicio" class="menu-foto">
        <img src="./img/gabriela3.jpeg" alt="Foto de Gabriela Lima" class="foto-perfil">
        <h1>Gabriela Lima</h1>
        <p class="text-foto">Desenvolvedora de Software</p>
    </main>

    <section id="sobre" class="sobre">
        <h2 class="sobre-titulo">Sobre mim</h2>
        <div class="sobre-caixa">
            <p class="sobre-paragrafo">Engenheira de software apaixonada por tecnologia e por criar soluções que fazem a
                diferença. Gosto de transformar desafios em oportunidades, unindo lógica, criatividade e as melhores
                práticas de desenvolvimento para entregar projetos com qualidade e impacto real.</p>
        </div>
    </section>

    <section id="projetos" class="projetos">
        <h2 class="projetos-titulos">Meus Projetos</h2>
        <div class="projetos-caixa">
            <div class="projetos-card">
                <img src="./img/ifolha-oprojeto.jpeg" alt="Projeto - IFOLHA" class="projetos-imagem">
                <div class="caixa-projeto">
                    <h3 class="info-projetos">IFolha</h3>
                    <p class="paragrafo-projetos">Aplicativo desenvolvido para a instituição IFPR para o TCC</p>
                    <a href="html/ifolha.html" class="btn-projeto">Acessar</a>
                </div>
            </div>
            <div class="projetos-card">
                <img src="./img/nibbi2.jpeg" alt="Projeto - Nibbi" class="projetos-imagem">
                <div class="caixa-projeto">
                    <h3 class="info-projetos">Nibbi</h3>
                    <p class="paragrafo-projetos">Loja virtual de Jóias desenvolvido como Projeto da Instituição IFPR
                    </p>
                    <a href="html/nibbi.html" class="btn-projeto">Acessar</a>
                </div>
            </div>
            <div class="projetos-card">
                <img src="./img/jobday.jpeg" alt="Projeto - Jobday" class="projetos-imagem">
                <div class="caixa-projeto">
                    <h3 class="info-projetos">Jobday</h3>
                    <p class="paragrafo-projetos">Aplicativo criado com o objetivo de ser um intermediador de empregos
                        <a href="html/jobday.html" class="btn-projeto">Acessar</a>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section class="secoes secao_claro" id="git">
        <h2 class="titulo-github" data-i18n="github.titulo">Meu GitHub</h2>

        <div class="github_repositorios" id="github_repositorios">
            <p class="poppins-extralight">Carregando repositórios...</p>
        </div>

        <div>
            <table class="github_tabela">
                <thead>
                    <tr>
                        <th>Repositórios</th>
                        <th>Commits (últimos)</th>
                        <th>Pull Requests</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td id="repo_count">--</td>
                        <td id="commit_count">--</td>
                        <td id="pr_count">--</td>
                    </tr>
                </tbody>
            </table>
        </div>

    </section>


    <section id="contato" class="contato">
        <h2 class="contatos-titulo">Entre em Contato</h2>
        <form class="formulario-contato" id="formulario" onsubmit="enviarWhats(event)">
            <div class="grupo-form">
                <input placeholder="Nome" class="campo-form" id="nome">
            </div>
            <div class="grupo-form">
                <textarea class="campo-form" placeholder="Digite sua mensagem" id="mensagem" rows="4"></textarea>
            </div>

            <button type="submit" class="botao-form">Enviar WhatsApp</button>
        </form>
    </section>

    <script>

        function enviarWhats(event) {
            event.preventDefault()

            const nome = document.getElementById('nome').value;
            const mensagem = document.getElementById('mensagem').value;
            const telefone = '5544999861300'

            const texto = `Olá! Me chamo ${nome}, ${mensagem}`
            const msgFormatada = encodeURIComponent(texto)
            const url = `https://wa.me/${telefone}?text=${msgFormatada}`

            console.log(url)

            window.open(url, '_blank')
        }

        document.addEventListener("DOMContentLoaded", () => {
            const githubRepositoriosHtml = document.getElementById("github_repositorios");
            let totalCommits = 0;
            let totalPRs = 0;
            const repositorios = ["portfolio-gabrielalima", "IFolha", "projeto-nibbi", "projeto-fullsttack-web"];

            githubRepositoriosHtml.innerHTML = "";
            document.getElementById("repo_count").textContent = repositorios.length;

            repositorios.forEach(repoName => {
                fetch(`https://api.github.com/repos/gabrielasilima/${repoName}`)
                    .then(repoResponse => repoResponse.json())
                    .then(repo => {
                        const repoDiv = document.createElement("div");
                        repoDiv.classList.add("repo_card");

                        repoDiv.innerHTML = `
                    <h3><a href="${repo.html_url}" target="_blank">${repo.name}</a></h3>
                    <p>Atualizado em: ${new Date(repo.updated_at).toLocaleDateString()}</p>
                `;
                        githubRepositoriosHtml.appendChild(repoDiv);

                        fetch(repo.commits_url.replace("{/sha}", ""))
                            .then(r => r.json())
                            .then(commits => {
                                totalCommits += commits.length;
                                document.getElementById("commit_count").textContent = totalCommits;
                            })
                            .catch(() => {
                                console.error(`Erro ao buscar commits do repositório ${repo.name}`);
                            });

                        fetch(`https://api.github.com/repos/gabrielasilima/${repo.name}/pulls?state=all`)
                            .then(r => r.json())
                            .then(pulls => {
                                totalPRs += pulls.length;
                                document.getElementById("pr_count").textContent = totalPRs;
                            })
                            .catch(() => {
                                console.error(`Erro ao buscar PRs do repositório ${repo.name}`);
                            });
                    })
                    .catch(error => {
                        console.error(`Erro ao buscar dados do repositório ${repoName}:`, error);
                    });
            });
        });
    </script>
</body>

</html>